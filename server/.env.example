# =============================================================================
# StockFlow Server Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values for your environment.
# Never commit .env to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------

# Environment mode: development | production | test
NODE_ENV=development

# Port the server listens on (default: 3000)
PORT=3000

# Frontend URL for CORS configuration
FRONTEND_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# Database Configuration (Docker)
# -----------------------------------------------------------------------------

# PostgreSQL connection URL (required)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
#
# For local development, use Docker PostgreSQL:
#   1. Run: docker compose -f docker-compose.dev.yml up -d
#   2. Use the URL below (default credentials: postgres/postgres)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/stockflow_dev?schema=public

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------

# Secret key for signing access tokens (required)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Secret key for signing refresh tokens (required)
# Generate with: openssl rand -base64 32
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production

# Access token expiration time (default: 15m)
# Supported formats: 60, "2 days", "10h", "7d", "15m"
JWT_EXPIRATION=15m

# Refresh token expiration time (default: 7d)
JWT_REFRESH_EXPIRATION=7d

# -----------------------------------------------------------------------------
# Email Configuration (Brevo/Sendinblue)
# -----------------------------------------------------------------------------

# Brevo API key for sending transactional emails
# Get your API key at: https://app.brevo.com/settings/keys/api
BREVO_API_KEY=your-brevo-api-key

# Sender email address (must be verified in Brevo)
BREVO_SENDER_EMAIL=noreply@yourdomain.com

# Sender display name
BREVO_SENDER_NAME=StockFlow

# -----------------------------------------------------------------------------
# Security Configuration (Arcjet)
# -----------------------------------------------------------------------------

# Arcjet API key for rate limiting and bot protection
# Get your free API key at: https://app.arcjet.com
ARCJET_KEY=your-arcjet-api-key

# Enable/disable Arcjet protection (default: true)
ARCJET_ENABLED=true

# -----------------------------------------------------------------------------
# Wompi Payment Gateway (Bancolombia)
# -----------------------------------------------------------------------------

# Wompi public key (required for checkout widget)
# Get your keys at: https://comercios.wompi.co/developers
WOMPI_PUBLIC_KEY=pub_test_xxx
WOMPI_PRIVATE_KEY=prv_test_xxx
WOMPI_EVENT_SECRET=test_events_xxx
WOMPI_INTEGRITY_SECRET=test_integrity_xxx

# -----------------------------------------------------------------------------
# Cloudflare Workers + KV Storage
# -----------------------------------------------------------------------------

# Cloudflare Worker URL for image storage
CF_WORKER_URL=https://stockflow-images.daniel-esloh.workers.dev

# Auth secret for Worker upload/delete endpoints
# Generate with: openssl rand -base64 32
CF_AUTH_SECRET=your-secure-auth-secret

# -----------------------------------------------------------------------------
# Redis Configuration (Caching)
# -----------------------------------------------------------------------------

# Redis host (optional, defaults to localhost)
# Leave empty to use in-memory cache instead of Redis
REDIS_HOST=localhost

# Redis port (default: 6379)
REDIS_PORT=6379

# Redis password (optional, leave empty if no authentication)
REDIS_PASSWORD=

# Redis database number (default: 0)
REDIS_DB=0

# Default cache TTL in seconds (default: 300 = 5 minutes)
CACHE_TTL=300

# -----------------------------------------------------------------------------
# OAuth Configuration (Optional - SSO Login)
# -----------------------------------------------------------------------------

# Google OAuth 2.0
# Create credentials at: https://console.cloud.google.com/apis/credentials
# Add authorized redirect URI: http://localhost:3000/auth/google/callback
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:3000/auth/google/callback

# GitHub OAuth
# Create OAuth App at: https://github.com/settings/developers
# Set Authorization callback URL: http://localhost:3000/auth/github/callback
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=http://localhost:3000/auth/github/callback